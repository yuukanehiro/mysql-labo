=====================================
2025-05-18 12:18:30 140170219271744 INNODB MONITOR OUTPUT
=====================================
Per second averages calculated from the last 2 seconds
-----------------
BACKGROUND THREAD
-----------------
srv_master_thread loops: 778 srv_active, 0 srv_shutdown, 10168 srv_idle
srv_master_thread log flush and writes: 0
----------
SEMAPHORES
----------
OS WAIT ARRAY INFO: reservation count 30218
OS WAIT ARRAY INFO: signal count 24645
RW-shared spins 0, rounds 0, OS waits 0
RW-excl spins 0, rounds 0, OS waits 0
RW-sx spins 0, rounds 0, OS waits 0
Spin rounds per wait: 0.00 RW-shared, 0.00 RW-excl, 0.00 RW-sx
------------------------
LATEST DETECTED DEADLOCK
------------------------
2025-05-18 12:18:19 140170133231168
*** (1) TRANSACTION:
TRANSACTION 4241, ACTIVE 4 sec inserting
mysql tables in use 1, locked 1
LOCK WAIT 281 lock struct(s), heap size 41080, 4 row lock(s), undo log entries 16979
MySQL thread id 362, OS thread handle 140170091267648, query id 21830 172.19.0.1 root update
INSERT INTO `demo_deadlocks` (`id`,`company_id`,`user_id`,`data`) VALUES ('01JVHN9BCJ9X3VKWPPWSZA15V5','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCJ9X3VKWPPWW4BAFJQ','DATA-1747570695304041000-84613'),('01JVHN9BCKZJEMAM4C46SMQ2J6','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4C4MNM7RY4','DATA-1747570695304041000-49220'),('01JVHN9BCKZJEMAM4C66HX8GFZ','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4C6ADW5SDA','DATA-1747570695304041000-77967'),('01JVHN9BCKZJEMAM4C6C284ZT4','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4C6FCWD838','DATA-1747570695304041000-23246'),('01JVHN9BCKZJEMAM4C6HJEB33R','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4C6NSZ8ZW2','DATA-1747570695304041000-6895'),('01JVHN9BCKZJEMAM4C6V2KB4ZW','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4C70RMRQTR','DATA-1747570695304041000-6021'),('01JVHN9BCKZJEMAM4C733AAK6H','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4C78Z3R5HX','DATA-1747570695304041000-92751'),('01JVHN9BCKZJEMAM4C7E00G950','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4C7HVHSNB5','DATA-1747570695304041000-90074'),('01JVHN9BCKZJEMAM4C7N0SEXX7','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4C7RDM1SEE','DATA-1747570695304041000-55027'),('01JVHN9BCKZJEMAM4C7YDKW612','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4C7YEVTQX7','DATA-1747570695304041000-53127'),('01JVHN9BCKZJEMAM4C86JK56QP','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4C881H3PFB','DATA-1747570695304041000-11669'),('01JVHN9BCKZJEMAM4C8DR4DRVF','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4C8GXK2NED','DATA-1747570695304041000-17706'),('01JVHN9BCKZJEMAM4C8R2HTJVE','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4C8TEJ1H07','DATA-1747570695304041000-86330'),('01JVHN9BCKZJEMAM4C90KP4NR5','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4C90YJWX9X','DATA-1747570695304041000-43662'),('01JVHN9BCKZJEMAM4C93RGB7N5','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4C94E7GWZK','DATA-1747570695304041000-37916'),('01JVHN9BCKZJEMAM4C9AJ04QG8','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4C9BNGHQH6','DATA-1747570695304041000-17100'),('01JVHN9BCKZJEMAM4C9GZMWCP2','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4C9KCS40G1','DATA-1747570695304041000-60658'),('01JVHN9BCKZJEMAM4C9RKZA1CN','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4C9WKPSJHE','DATA-1747570695304041000-59936'),('01JVHN9BCKZJEMAM4CA3Z1B3PC','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4CA41RAMX3','DATA-1747570695304041000-26368'),('01JVHN9BCKZJEMAM4CAFSYEGDQ','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4CAHRJS5QY','DATA-1747570695304041000-67866'),('01JVHN9BCKZJEMAM4CAM6TCY6A','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4CAMC46CDK','DATA-1747570695304041000-5972'),('01JVHN9BCKZJEMAM4CAQS26Q4S','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4CAVB56YTF','DATA-1747570695304041000-77819'),('01JVHN9BCKZJEMAM4CAYFP4ZY7','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4CB1PS0F31','DATA-1747570695304041000-83876'),('01JVHN9BCKZJEMAM4CB3JKT7M8','01JVHN955EH4VMPTE2A302TXJN','01JVHN9BCKZJEMAM4CB4CWE3QX','DATA-1747570695304041000-78140'),('

*** (1) HOLDS THE LOCK(S):
RECORD LOCKS space id 42 page no 2515 n bits 192 index PRIMARY of table `test_db`.`demo_deadlocks` trx id 4241 lock_mode X locks rec but not gap
Record lock, heap no 93 PHYSICAL RECORD: n_fields 6; compact format; info bits 0
 0: len 26; hex 30314a56484e3942434d38363158585759324a58334a4b524d38; asc 01JVHN9BCM861XXWY2JX3JKRM8;;
 1: len 6; hex 000000001091; asc       ;;
 2: len 7; hex 81000008c5167a; asc       z;;
 3: len 26; hex 30314a56484e393535454834564d505445324133303254584a4e; asc 01JVHN955EH4VMPTE2A302TXJN;;
 4: len 26; hex 30314a56484e3942434d38363158585759324b3134354b423241; asc 01JVHN9BCM861XXWY2K145KB2A;;
 5: len 29; hex 444154412d313734373537303639353330343034313030302d34343735; asc DATA-1747570695304041000-4475;;


*** (1) WAITING FOR THIS LOCK TO BE GRANTED:
RECORD LOCKS space id 42 page no 2503 n bits 192 index PRIMARY of table `test_db`.`demo_deadlocks` trx id 4241 lock_mode X locks rec but not gap waiting
Record lock, heap no 22 PHYSICAL RECORD: n_fields 6; compact format; info bits 0
 0: len 26; hex 30314a56484e3942434d38363158585759333448314742395741; asc 01JVHN9BCM861XXWY34H1GB9WA;;
 1: len 6; hex 000000001094; asc       ;;
 2: len 7; hex 82000011433680; asc     C6 ;;
 3: len 26; hex 30314a56484e3935335434435658584238354d4e333756544839; asc 01JVHN953T4CVXXB85MN37VTH9;;
 4: len 26; hex 30314a56484e3942434d3836315858575933344d52564b414835; asc 01JVHN9BCM861XXWY34MRVKAH5;;
 5: len 30; hex 444154412d313734373537303639353332363733373030302d3530323636; asc DATA-1747570695326737000-50266;;


*** (2) TRANSACTION:
TRANSACTION 4244, ACTIVE 4 sec inserting
mysql tables in use 1, locked 1
LOCK WAIT 301 lock struct(s), heap size 41080, 148 row lock(s), undo log entries 16303
MySQL thread id 370, OS thread handle 140169686500928, query id 21831 172.19.0.1 root update
INSERT INTO `demo_deadlocks` (`id`,`company_id`,`user_id`,`data`) VALUES ('01JVHN9BCM861XXWY45BJXWW54','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY45EF1GZ43','DATA-1747570695326737000-16362'),('01JVHN9BCM861XXWY4598Z78HN','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY45AC0BF8F','DATA-1747570695326737000-38231'),('01JVHN9BCM861XXWY4553T3AMF','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY457SM695V','DATA-1747570695326737000-18858'),('01JVHN9BCM861XXWY451FR2JH1','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY454NZ9R1F','DATA-1747570695326737000-85463'),('01JVHN9BCM861XXWY44VBMM6PB','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY44Z38XJC0','DATA-1747570695326737000-57883'),('01JVHN9BCM861XXWY44Q8XKS0X','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY44V7K7X54','DATA-1747570695326737000-59157'),('01JVHN9BCM861XXWY44K9ZK84E','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY44N9R77JM','DATA-1747570695326737000-64196'),('01JVHN9BCM861XXWY44FXVX6RC','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY44J8B7N0X','DATA-1747570695326737000-34308'),('01JVHN9BCM861XXWY44F06FR3T','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY44FFJH2SC','DATA-1747570695326737000-52755'),('01JVHN9BCM861XXWY44C3E49AK','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY44ED92KPZ','DATA-1747570695326737000-37821'),('01JVHN9BCM861XXWY449K0WQXY','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY44AY9KSQG','DATA-1747570695326737000-26754'),('01JVHN9BCM861XXWY4424GEBY2','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY4462KVGSH','DATA-1747570695326737000-70229'),('01JVHN9BCM861XXWY43Y1YB7JJ','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY441FV06ZX','DATA-1747570695326737000-5158'),('01JVHN9BCM861XXWY43SGGEVMK','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY43TTSTKNG','DATA-1747570695326737000-27159'),('01JVHN9BCM861XXWY43JSY7F9Q','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY43NHW0709','DATA-1747570695326737000-32606'),('01JVHN9BCM861XXWY43DTSAR4Z','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY43FE0XH0V','DATA-1747570695326737000-82745'),('01JVHN9BCM861XXWY43B4GZBD6','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY43CWD5SCD','DATA-1747570695326737000-81244'),('01JVHN9BCM861XXWY438869AHP','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY43AWHNS9Y','DATA-1747570695326737000-86504'),('01JVHN9BCM861XXWY431S623TQ','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY435B3KGM1','DATA-1747570695326737000-3945'),('01JVHN9BCM861XXWY42XT4MXKQ','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY42Z9YS4Z3','DATA-1747570695326737000-98857'),('01JVHN9BCM861XXWY42SPCN3JG','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY42VYF96K6','DATA-1747570695326737000-72037'),('01JVHN9BCM861XXWY42R20P893','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY42RSRWM3N','DATA-1747570695326737000-18970'),('01JVHN9BCM861XXWY42P074Q1F','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY42Q2B6QQY','DATA-1747570695326737000-26945'),('01JVHN9BCM861XXWY42J4FRNEY','01JVHN953T4CVXXB85MN37VTH9','01JVHN9BCM861XXWY42J935T04','DATA-1747570695326737000-81858'),(

*** (2) HOLDS THE LOCK(S):
RECORD LOCKS space id 42 page no 2503 n bits 192 index PRIMARY of table `test_db`.`demo_deadlocks` trx id 4244 lock_mode X locks rec but not gap
Record lock, heap no 22 PHYSICAL RECORD: n_fields 6; compact format; info bits 0
 0: len 26; hex 30314a56484e3942434d38363158585759333448314742395741; asc 01JVHN9BCM861XXWY34H1GB9WA;;
 1: len 6; hex 000000001094; asc       ;;
 2: len 7; hex 82000011433680; asc     C6 ;;
 3: len 26; hex 30314a56484e3935335434435658584238354d4e333756544839; asc 01JVHN953T4CVXXB85MN37VTH9;;
 4: len 26; hex 30314a56484e3942434d3836315858575933344d52564b414835; asc 01JVHN9BCM861XXWY34MRVKAH5;;
 5: len 30; hex 444154412d313734373537303639353332363733373030302d3530323636; asc DATA-1747570695326737000-50266;;


*** (2) WAITING FOR THIS LOCK TO BE GRANTED:
RECORD LOCKS space id 42 page no 2515 n bits 192 index PRIMARY of table `test_db`.`demo_deadlocks` trx id 4244 lock_mode X locks rec but not gap waiting
Record lock, heap no 93 PHYSICAL RECORD: n_fields 6; compact format; info bits 0
 0: len 26; hex 30314a56484e3942434d38363158585759324a58334a4b524d38; asc 01JVHN9BCM861XXWY2JX3JKRM8;;
 1: len 6; hex 000000001091; asc       ;;
 2: len 7; hex 81000008c5167a; asc       z;;
 3: len 26; hex 30314a56484e393535454834564d505445324133303254584a4e; asc 01JVHN955EH4VMPTE2A302TXJN;;
 4: len 26; hex 30314a56484e3942434d38363158585759324b3134354b423241; asc 01JVHN9BCM861XXWY2K145KB2A;;
 5: len 29; hex 444154412d313734373537303639353330343034313030302d34343735; asc DATA-1747570695304041000-4475;;

*** WE ROLL BACK TRANSACTION (2)
------------
TRANSACTIONS
------------
Trx id counter 4260
Purge done for trx's n:o < 4260 undo n:o < 0 state: running but idle
History list length 12
LIST OF TRANSACTIONS FOR EACH SESSION:
---TRANSACTION 421645664906400, not started
0 lock struct(s), heap size 1128, 0 row lock(s)
---TRANSACTION 421645664905592, not started
0 lock struct(s), heap size 1128, 0 row lock(s)
---TRANSACTION 421645664904784, not started
0 lock struct(s), heap size 1128, 0 row lock(s)
---TRANSACTION 421645664903976, not started
0 lock struct(s), heap size 1128, 0 row lock(s)
---TRANSACTION 421645664903168, not started
0 lock struct(s), heap size 1128, 0 row lock(s)
---TRANSACTION 421645664902360, not started
0 lock struct(s), heap size 1128, 0 row lock(s)
---TRANSACTION 421645664901552, not started
0 lock struct(s), heap size 1128, 0 row lock(s)
---TRANSACTION 421645664900744, not started
0 lock struct(s), heap size 1128, 0 row lock(s)
--------
FILE I/O
--------
I/O thread 0 state: waiting for completed aio requests (insert buffer thread)
I/O thread 1 state: waiting for completed aio requests (read thread)
I/O thread 2 state: waiting for completed aio requests (read thread)
I/O thread 3 state: waiting for completed aio requests (read thread)
I/O thread 4 state: waiting for completed aio requests (read thread)
I/O thread 5 state: waiting for completed aio requests (write thread)
I/O thread 6 state: waiting for completed aio requests (write thread)
I/O thread 7 state: waiting for completed aio requests (write thread)
I/O thread 8 state: waiting for completed aio requests (write thread)
Pending normal aio reads: [0, 0, 0, 0] , aio writes: [0, 0, 0, 0] ,
 ibuf aio reads:
Pending flushes (fsync) log: 0; buffer pool: 0
14986 OS file reads, 682103 OS file writes, 412502 OS fsyncs
0.72 reads/s, 16384 avg bytes/read, 105.42 writes/s, 55.94 fsyncs/s
-------------------------------------
INSERT BUFFER AND ADAPTIVE HASH INDEX
-------------------------------------
Ibuf: size 1, free list len 452, seg size 454, 289 merges
merged operations:
 insert 0, delete mark 47373, delete 0
discarded operations:
 insert 0, delete mark 0, delete 0
Hash table size 34679, node heap has 0 buffer(s)
Hash table size 34679, node heap has 0 buffer(s)
Hash table size 34679, node heap has 1 buffer(s)
Hash table size 34679, node heap has 1 buffer(s)
Hash table size 34679, node heap has 1 buffer(s)
Hash table size 34679, node heap has 1 buffer(s)
Hash table size 34679, node heap has 4 buffer(s)
Hash table size 34679, node heap has 1 buffer(s)
0.00 hash searches/s, 11.99 non-hash searches/s
---
LOG
---
Log sequence number          2664593853
Log buffer assigned up to    2664593853
Log buffer completed up to   2664593853
Log written up to            2664593853
Log flushed up to            2664593853
Added dirty pages up to      2664593853
Pages flushed up to          2657872061
Last checkpoint at           2657357819
Log minimum file id is       795
Log maximum file id is       813
426313 log i/o's done, 1.67 log i/o's/second
----------------------
BUFFER POOL AND MEMORY
----------------------
Total large memory allocated 0
Dictionary memory allocated 562710
Buffer pool size   8192
Free buffers       1024
Database pages     7159
Old database pages 2622
Modified db pages  287
Pending reads      0
Pending writes: LRU 0, flush list 0, single page 0
Pages made young 52119, not young 2695064
0.00 youngs/s, 12.19 non-youngs/s
Pages read 14952, created 111637, written 197698
0.72 reads/s, 0.00 creates/s, 82.11 writes/s
Buffer pool hit rate 991 / 1000, young-making rate 0 / 1000 not 162 / 1000
Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s
LRU len: 7159, unzip_LRU len: 0
I/O sum[3216]:cur[15], unzip sum[0]:cur[0]
--------------
ROW OPERATIONS
--------------
0 queries inside InnoDB, 0 queries in queue
0 read views open inside InnoDB
Process ID=1, Main thread ID=140170116445760 , state=sleeping
Number of rows inserted 5963472, updated 438341, deleted 4014170, read 19241576
0.00 inserts/s, 0.00 updates/s, 0.00 deletes/s, 0.00 reads/s
Number of system rows inserted 796, updated 1053, deleted 704, read 9837
0.00 inserts/s, 0.00 updates/s, 0.00 deletes/s, 0.00 reads/s
----------------------------
END OF INNODB MONITOR OUTPUT
============================
